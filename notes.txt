pve-no-subscription
OEM install so that template does not have system IDs
    https://www.youtube.com/watch?v=xD9Xyt2mdSI
    apt install qemu-guest-agent
HDD passthough
    nano /etc/pve/qemu-server/100.conf
Link Aggregation
    https://www.youtube.com/watch?v=DlWXQrIhYQk
Create Tags for VLANs

https://www.youtube.com/watch?v=VAJWUZ3sTSI
    Trusted TLS Certificates
    Setup backup jobs
https://www.youtube.com/watch?v=GoZaMgEgrHw&t
    VLAN aware

# Not needed so far
- name: Gather the package facts
    ansible.builtin.package_facts:
    manager: auto

- name: Print the package facts
    ansible.builtin.debug:
    var: ansible_facts.packages

For creating a cloud-init VM
qm create 900 --memory 2048 --net0 virtio,bridge=vmbr0 --scsihw virtio-scsi-pci
qm set 900 --serial0 socket --vga serial0
qm set 900 --scsi0 local-lvm:0,import-from=/root/ubuntu.qcow2
qm set 900 --ide2 local-lvm:cloudinit
qm set 900 --boot order=scsi0

qm template 900

# This might have to come right after downloading the image
qemu-img resize ubuntu.qcow2 32G
qm importdisk 900 ubuntu.qcow2 local-lvm

qm create 501 --name "ubuntu-2204-cloudinit-template" --ostype l26 \
--memory 1024 \
--agent 1 \
--bios ovmf --machine q35 --efidisk0 local-lvm:0,pre-enrolled-keys=0 \
--cpu host --socket 1 --cores 2 \
--vga serial0 --serial0 socket \
--net0 virtio,bridge=vmbr0,firewall=1 \
--scsihw virtio-scsi-pci --scsi0 local-lvm:0,import-from=/root/ubuntu-22.04-minimal-cloudimg-amd64.qcow2,format=qcow2,ssd=1,discard=on,iothread=1 \
--ide2 local-lvm:cloudinit --boot order=scsi0 \
--sshkeys ~/.ssh/authorized_keys \
--ipconfig0 ip=dhcp \
--ciuser admin --cicustom "vendor=local:snippets/vendor.yaml"